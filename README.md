# ğŸ›’ TITI Shop - Há»‡ thá»‘ng E-commerce PHP (Version 2.0)

Há»‡ thá»‘ng bÃ¡n hÃ ng online hoÃ n chá»‰nh vá»›i **quáº£n lÃ½ vai trÃ² phÃ¢n quyá»n UI**, **há»‡ thá»‘ng voucher**, **quáº£n lÃ½ Ä‘Æ¡n hÃ ng nÃ¢ng cao** vÃ  **giao diá»‡n gradient hiá»‡n Ä‘áº¡i**.

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ” Há»‡ thá»‘ng ngÆ°á»i dÃ¹ng & PhÃ¢n quyá»n UI
- **3 vai trÃ²:** Admin, Staff, Customer
- **PhÃ¢n quyá»n hiá»ƒn thá»‹ nÃºt:**
  - **Admin:** Chá»‰ hiá»ƒn thá»‹ nÃºt "Sá»­a" vÃ  "XÃ³a" trÃªn sáº£n pháº©m
  - **Customer:** Chá»‰ hiá»ƒn thá»‹ nÃºt "ThÃªm vÃ o giá» hÃ ng"
  - **Staff:** CÃ³ quyá»n quáº£n lÃ½ sáº£n pháº©m vÃ  Ä‘Æ¡n hÃ ng
- **Middleware báº£o máº­t:** Admin khÃ´ng thá»ƒ truy cáº­p Cart URLs
- **ÄÄƒng kÃ½ tá»± Ä‘á»™ng:** Customer Ä‘Æ°á»£c duyá»‡t ngay, Staff cáº§n Admin duyá»‡t
- **Quáº£n lÃ½ tÃ i khoáº£n:** Profile, Ä‘á»•i máº­t kháº©u, upload avatar

### ğŸ›ï¸ Quáº£n lÃ½ sáº£n pháº©m (UI nÃ¢ng cáº¥p)
- **CRUD sáº£n pháº©m:** ThÃªm, sá»­a, xÃ³a sáº£n pháº©m
- **Enhanced Product Cards:** Gradient design, hover effects, animations
- **Responsive design:** Tá»‘i Æ°u cho desktop vÃ  mobile
- **Category badges:** Gradient styling vá»›i colors
- **Interactive buttons:** Loading states vÃ  success feedback
- **Quáº£n lÃ½ danh má»¥c:** PhÃ¢n loáº¡i sáº£n pháº©m
- **Upload hÃ¬nh áº£nh:** Tá»± Ä‘á»™ng resize vÃ  tá»‘i Æ°u

### ğŸ›’ Há»‡ thá»‘ng mua hÃ ng & Voucher
- **Giá» hÃ ng nÃ¢ng cao:** AJAX loading states, UX mÆ°á»£t mÃ 
- **Há»‡ thá»‘ng voucher hoÃ n chá»‰nh:**
  - `WELCOME10` - Giáº£m 10% (tá»‘i Ä‘a 50k) cho Ä‘Æ¡n tá»« 100k
  - `FREESHIP` - Giáº£m 30k phÃ­ ship cho Ä‘Æ¡n tá»« 200k  
  - `SUMMER20` - Giáº£m 20% (tá»‘i Ä‘a 100k) cho Ä‘Æ¡n tá»« 500k
  - `NEWUSER50` - Giáº£m 50k cho khÃ¡ch hÃ ng má»›i, Ä‘Æ¡n tá»« 150k
  - `VIP15` - Giáº£m 15% (tá»‘i Ä‘a 200k) cho thÃ nh viÃªn VIP
- **Enhanced checkout:** Gradient price display, interactive controls
- **Theo dÃµi lá»‹ch sá»­:** Chi tiáº¿t sá»­ dá»¥ng voucher

### ğŸ“¦ Quáº£n lÃ½ Ä‘Æ¡n hÃ ng nÃ¢ng cao
- **8 tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng:** pending, confirmed, processing, packed, shipped, delivered, cancelled, returned
- **Theo dÃµi lá»‹ch sá»­:** Chi tiáº¿t tá»«ng thay Ä‘á»•i tráº¡ng thÃ¡i vá»›i timestamp
- **MÃ£ váº­n Ä‘Æ¡n:** Tracking number cho Ä‘Æ¡n hÃ ng
- **Ghi chÃº Admin:** Notes chi tiáº¿t cho tá»«ng Ä‘Æ¡n hÃ ng
- **Dá»± kiáº¿n giao hÃ ng:** Estimated delivery date
- **Quáº£n lÃ½ Ä‘Æ¡n hÃ ng:** Theo dÃµi tráº¡ng thÃ¡i, lá»‹ch sá»­ mua hÃ ng

### ğŸ“Š BÃ¡o cÃ¡o & Thá»‘ng kÃª
- **Doanh thu:** Theo ngÃ y, thÃ¡ng, nÄƒm
- **Sáº£n pháº©m bÃ¡n cháº¡y:** Top sáº£n pháº©m
- **Thá»‘ng kÃª voucher:** Sá»­ dá»¥ng vÃ  hiá»‡u quáº£
- **Dashboard:** Tá»•ng quan há»‡ thá»‘ng vá»›i metrics

### ğŸ¨ Giao diá»‡n (Enhanced UI/UX)
- **Modern Gradient Design:** Purple-blue gradient themes
- **Responsive Design:** Bootstrap 5 vá»›i breakpoints tá»‘i Æ°u
- **Hover Animations:** Smooth transitions vÃ  scale effects
- **Shadow Effects:** Depth vÃ  visual hierarchy
- **Interactive Elements:** Loading states, success feedback
- **Icons:** Bootstrap Icons vá»›i color schemes
- **Mobile-first:** Touch-friendly interface

## ğŸš€ CÃ i Ä‘áº·t nhanh

### PhÆ°Æ¡ng phÃ¡p 1: Setup tá»± Ä‘á»™ng (Khuyáº¿n nghá»‹)

1. **Download/Clone project:**
   ```bash
   git clone [repo-url] webbanhang
   cd webbanhang
   ```

2. **Copy vÃ o web server:**
   - XAMPP: `C:\xampp\htdocs\webbanhang`
   - LARAGON: `C:\laragon\www\webbanhang`
   - WAMP: `C:\wamp64\www\webbanhang`

3. **Cháº¡y setup tá»± Ä‘á»™ng:**
   ```
   http://localhost/webbanhang/setup_installer.php
   ```

4. **Nháº­p thÃ´ng tin Database:**
   - Host: `localhost`
   - Database: `webbanhang` (sáº½ Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng)
   - Username: `root`
   - Password: (Ä‘á»ƒ trá»‘ng náº¿u XAMPP/LARAGON)

5. **HoÃ n thÃ nh!**
   - Há»‡ thá»‘ng tá»± Ä‘á»™ng táº¡o database tá»« `master_setup.sql`
   - Import 23 sáº£n pháº©m máº«u + 5 vouchers
   - Táº¡o 7 tÃ i khoáº£n test (3 Admin + 2 Staff + 2 Customer)
   - Táº¡o 3 Ä‘Æ¡n hÃ ng máº«u vá»›i tráº¡ng thÃ¡i khÃ¡c nhau
   - Truy cáº­p: `http://localhost/webbanhang`

### PhÆ°Æ¡ng phÃ¡p 2: Setup thá»§ cÃ´ng

1. **Táº¡o database:**
   ```sql
   CREATE DATABASE webbanhang CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```

2. **Import database:**
   ```bash
   mysql -u root -p webbanhang < database/complete_setup.sql
   ```

3. **Cáº¥u hÃ¬nh database:** Sá»­a `app/config/database.php`

4. **Táº¡o thÆ° má»¥c uploads:**
   ```bash
   mkdir public/uploads
   chmod 755 public/uploads
   ```

## ğŸ‘¤ TÃ i khoáº£n máº·c Ä‘á»‹nh

### Admin Accounts (3)
1. **Username:** `admin` | **Password:** `admin123` | **Email:** `admin@titishop.com`
2. **Username:** `Admin1` | **Password:** `Admin@123` | **Email:** `admin1@titishop.com`  
3. **Username:** `Admin2` | **Password:** `Admin@123` | **Email:** `admin2@titishop.com`

**Quyá»n Admin:** ToÃ n quyá»n há»‡ thá»‘ng, khÃ´ng thá»ƒ truy cáº­p Cart URLs

### Staff Accounts (2)
1. **Username:** `Staff1` | **Password:** `Staff@123` | **Email:** `staff1@titishop.com`
2. **Username:** `Staff2` | **Password:** `Staff@123` | **Email:** `staff2@titishop.com`

**Quyá»n Staff:** Quáº£n lÃ½ sáº£n pháº©m, Ä‘Æ¡n hÃ ng, voucher, xem bÃ¡o cÃ¡o

### Customer Accounts (2)
1. **Username:** `Customer1` | **Password:** `Customer@123` | **Email:** `customer1@titishop.com`
2. **Username:** `Customer2` | **Password:** `Customer@123` | **Email:** `customer2@titishop.com`

**Quyá»n Customer:** Mua hÃ ng, quáº£n lÃ½ Ä‘Æ¡n hÃ ng cÃ¡ nhÃ¢n

### Demo Users
Sau khi cÃ i Ä‘áº·t, báº¡n cÃ³ thá»ƒ Ä‘Äƒng kÃ½ tÃ i khoáº£n má»›i:
- **Customer:** ÄÆ°á»£c duyá»‡t tá»± Ä‘á»™ng
- **Staff:** Cáº§n Admin duyá»‡t

## ğŸŸï¸ Vouchers cÃ³ sáºµn

### Active Vouchers (5)
1. **`WELCOME10`** - Giáº£m 10% (tá»‘i Ä‘a 50.000Ä‘) cho Ä‘Æ¡n tá»« 100.000Ä‘
2. **`FREESHIP`** - Giáº£m 30.000Ä‘ phÃ­ ship cho Ä‘Æ¡n tá»« 200.000Ä‘  
3. **`SUMMER20`** - Giáº£m 20% (tá»‘i Ä‘a 100.000Ä‘) cho Ä‘Æ¡n tá»« 500.000Ä‘
4. **`NEWUSER50`** - Giáº£m 50.000Ä‘ cho khÃ¡ch hÃ ng má»›i, Ä‘Æ¡n tá»« 150.000Ä‘
5. **`VIP15`** - Giáº£m 15% (tá»‘i Ä‘a 200.000Ä‘) cho thÃ nh viÃªn VIP tá»« 300.000Ä‘

**Táº¥t cáº£ vouchers Ä‘á»u cÃ³ hiá»‡u lá»±c tá»« 01/01/2024 Ä‘áº¿n 31/12/2024**

## ğŸ“ Cáº¥u trÃºc project

```
webbanhang/
â”œâ”€â”€ ğŸ“ app/
â”‚   â”œâ”€â”€ ğŸ“ config/         # Cáº¥u hÃ¬nh database
â”‚   â”œâ”€â”€ ğŸ“ controllers/    # Controllers (MVC)
â”‚   â”œâ”€â”€ ğŸ“ models/         # Models (MVC)
â”‚   â”œâ”€â”€ ğŸ“ views/          # Views (MVC)
â”‚   â”œâ”€â”€ ğŸ“ helpers/        # Helper classes
â”‚   â””â”€â”€ ğŸ“ middleware/     # Authentication middleware
â”œâ”€â”€ ğŸ“ database/           # SQL scripts
â”œâ”€â”€ ğŸ“ public/             # Assets, uploads
â”œâ”€â”€ ğŸ“„ setup_installer.php # Setup tá»± Ä‘á»™ng
â”œâ”€â”€ ğŸ“„ index.php          # Entry point
â””â”€â”€ ğŸ“„ README.md          # HÆ°á»›ng dáº«n nÃ y
```

## ğŸ”§ Cáº¥u hÃ¬nh

### Database Config
File: `app/config/database.php`
```php
private $host = 'localhost';
private $db_name = 'webbanhang';
private $username = 'root';
private $password = '';
```

### Upload Config
- **ThÆ° má»¥c:** `public/uploads/`
- **Äá»‹nh dáº¡ng:** JPG, JPEG, PNG, GIF
- **KÃ­ch thÆ°á»›c:** Tá»‘i Ä‘a 10MB

## ğŸ¯ HÆ°á»›ng dáº«n sá»­ dá»¥ng

### Cho Admin
1. **ÄÄƒng nháº­p:** `admin` / `admin123`
2. **Quáº£n lÃ½ ngÆ°á»i dÃ¹ng:** Duyá»‡t Staff, thay Ä‘á»•i vai trÃ²
3. **Quáº£n lÃ½ sáº£n pháº©m:** ThÃªm/sá»­a/xÃ³a sáº£n pháº©m
4. **Xem bÃ¡o cÃ¡o:** Doanh thu, thá»‘ng kÃª

### Cho Staff  
1. **ÄÄƒng kÃ½:** Chá»n "NhÃ¢n viÃªn" â†’ Chá» Admin duyá»‡t
2. **Sau khi Ä‘Æ°á»£c duyá»‡t:** Quáº£n lÃ½ sáº£n pháº©m, Ä‘Æ¡n hÃ ng
3. **Xem bÃ¡o cÃ¡o:** Doanh thu, thá»‘ng kÃª

### Cho Customer
1. **ÄÄƒng kÃ½:** Chá»n "KhÃ¡ch hÃ ng" â†’ Tá»± Ä‘á»™ng Ä‘Æ°á»£c duyá»‡t
2. **Mua sáº¯m:** ThÃªm vÃ o giá» hÃ ng â†’ Äáº·t hÃ ng
3. **Theo dÃµi:** Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng

## ğŸ”’ PhÃ¢n quyá»n

| TÃ­nh nÄƒng | Admin | Staff | Customer |
|-----------|-------|-------|----------|
| Quáº£n lÃ½ ngÆ°á»i dÃ¹ng | âœ… | âŒ | âŒ |
| Duyá»‡t Staff | âœ… | âŒ | âŒ |
| Quáº£n lÃ½ sáº£n pháº©m | âœ… | âœ… | âŒ |
| Quáº£n lÃ½ danh má»¥c | âœ… | âœ… | âŒ |
| Xem bÃ¡o cÃ¡o | âœ… | âœ… | âŒ |
| Mua hÃ ng | âœ… | âœ… | âœ… |
| Xem Ä‘Æ¡n hÃ ng | Táº¥t cáº£ | Táº¥t cáº£ | Cá»§a mÃ¬nh |

## ğŸ—„ï¸ Database Schema

### Báº£ng chÃ­nh
- **users:** NgÆ°á»i dÃ¹ng (role, status)
- **products:** Sáº£n pháº©m
- **categories:** Danh má»¥c
- **orders:** ÄÆ¡n hÃ ng
- **order_items:** Chi tiáº¿t Ä‘Æ¡n hÃ ng

### Dá»¯ liá»‡u máº«u
- **5 danh má»¥c:** Äiá»‡n thoáº¡i, Laptop, Tablet, Phá»¥ kiá»‡n, Äá»“ng há»“
- **20+ sáº£n pháº©m:** Äiá»‡n thoáº¡i iPhone, Samsung, Xiaomi...
- **Permissions:** Há»‡ thá»‘ng phÃ¢n quyá»n chi tiáº¿t

## ğŸ› ï¸ Troubleshooting

### Lá»—i thÆ°á»ng gáº·p

1. **"Database connection failed"**
   - Kiá»ƒm tra thÃ´ng tin database trong `app/config/database.php`
   - Äáº£m báº£o MySQL Ä‘ang cháº¡y

2. **"Permission denied" uploads**
   ```bash
   chmod 755 public/uploads/
   ```

3. **Lá»—i 404 khi truy cáº­p trang**
   - Kiá»ƒm tra URL Rewrite (mod_rewrite)
   - Äáº£m báº£o `.htaccess` tá»“n táº¡i

4. **KhÃ´ng upload Ä‘Æ°á»£c hÃ¬nh áº£nh**
   - Kiá»ƒm tra quyá»n thÆ° má»¥c `public/uploads/`
   - Kiá»ƒm tra `php.ini`: `upload_max_filesize`, `post_max_size`

### Reset há»‡ thá»‘ng
Cháº¡y láº¡i setup installer: `http://localhost/webbanhang/setup_installer.php`

## ğŸ“ Há»— trá»£

### ThÃ´ng tin liÃªn há»‡
- **Developer:** TITI Team
- **Email:** support@titishop.com
- **Website:** https://titishop.com

### YÃªu cáº§u há»‡ thá»‘ng
- **PHP:** 7.4+
- **MySQL:** 5.7+
- **Apache:** mod_rewrite enabled
- **Extensions:** PDO, GD, mbstring

## ğŸ’¾ Cáº¥u trÃºc Database

### Báº£ng chÃ­nh
- **`users`** - NgÆ°á»i dÃ¹ng vá»›i vai trÃ² (admin, staff, customer)
- **`categories`** - Danh má»¥c sáº£n pháº©m
- **`products`** - Sáº£n pháº©m vá»›i thÃ´ng tin chi tiáº¿t
- **`orders`** - ÄÆ¡n hÃ ng (vá»›i voucher, tráº¡ng thÃ¡i nÃ¢ng cao)
- **`order_items`** - Chi tiáº¿t Ä‘Æ¡n hÃ ng
- **`vouchers`** - MÃ£ giáº£m giÃ¡ vá»›i nhiá»u loáº¡i chiáº¿t kháº¥u
- **`voucher_usage`** - Lá»‹ch sá»­ sá»­ dá»¥ng voucher
- **`order_status_history`** - Lá»‹ch sá»­ thay Ä‘á»•i tráº¡ng thÃ¡i Ä‘Æ¡n hÃ ng
- **`permissions`** - Quyá»n háº¡n há»‡ thá»‘ng
- **`role_permissions`** - PhÃ¢n quyá»n theo vai trÃ²

### Dá»¯ liá»‡u máº«u
- **23 sáº£n pháº©m** cÃ´ng nghá»‡ (Ä‘iá»‡n thoáº¡i, laptop, tablet, phá»¥ kiá»‡n, Ä‘á»“ng há»“)
- **5 vouchers** vá»›i cÃ¡c loáº¡i giáº£m giÃ¡ khÃ¡c nhau
- **7 tÃ i khoáº£n** test (3 Admin + 2 Staff + 2 Customer)
- **3 Ä‘Æ¡n hÃ ng** máº«u vá»›i tráº¡ng thÃ¡i khÃ¡c nhau

## ğŸ”’ Báº£o máº­t & PhÃ¢n quyá»n

### Role-based Access Control
- **Middleware protection:** PhÃ¢n quyá»n theo controller
- **UI separation:** NÃºt hiá»ƒn thá»‹ theo vai trÃ²
- **Session management:** Secure session handling
- **Input validation:** XSS vÃ  SQL injection protection

### Admin Restrictions
- Admin khÃ´ng thá»ƒ truy cáº­p Cart URLs (`/Cart/*`)
- Redirect tá»± Ä‘á»™ng Ä‘áº¿n trang quáº£n lÃ½ phÃ¹ há»£p
- Middleware cháº·n cÃ¡c actions: add, checkout, placeOrder, update, remove, clear, applyVoucher, removeVoucher

## ğŸ“ Changelog

### Version 2.0 (Current) - June 2025
- âœ… **Enhanced UI/UX:** Gradient design, hover effects, animations
- âœ… **Role-based button visibility:** Admin vs Customer UI separation  
- âœ… **Voucher system:** Complete voucher management with 5 types
- âœ… **Advanced order management:** 8 status levels, tracking, history
- âœ… **Admin Cart restrictions:** Middleware protection for admin access
- âœ… **Master database setup:** Single SQL file for complete installation
- âœ… **Enhanced installer:** Auto setup with detailed feature info
- âœ… **Responsive design:** Mobile-first approach with breakpoints
- âœ… **AJAX cart functionality:** Loading states, success feedback
- âœ… **Sample data:** 23 products + 5 vouchers + test orders

### Version 1.0 - Initial Release
- âœ… Basic MVC structure
- âœ… User management with roles
- âœ… Product & Category management
- âœ… Basic cart & checkout
- âœ… Simple order management
- âœ… Staff approval system
- âœ… Revenue reporting

## ğŸ“„ License

MIT License - ÄÆ°á»£c phÃ©p sá»­ dá»¥ng cho má»¥c Ä‘Ã­ch thÆ°Æ¡ng máº¡i vÃ  phi thÆ°Æ¡ng máº¡i.

---

**ğŸš€ ChÃºc báº¡n sá»­ dá»¥ng há»‡ thá»‘ng thÃ nh cÃ´ng!**

*Náº¿u gáº·p váº¥n Ä‘á», vui lÃ²ng táº¡o issue hoáº·c liÃªn há»‡ support.*
- ÄÄƒng xuáº¥t
- Quáº£n lÃ½ há»“ sÆ¡ cÃ¡ nhÃ¢n
